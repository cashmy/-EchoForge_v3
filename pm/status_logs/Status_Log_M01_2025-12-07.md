# Status Log — M01 — 2025-12-07 15:40 UTC

## 1. Context
- Milestone: M01 — Capture & Ingress
- Related Tasks: T01–T11 (done), T12 (this log), T13 (pending)
- Milestone Source: EchoForge_Milestone_Summary_v1.2
- Runtime Shape(s): ShapeA_LocalDev, ShapeB_DesktopElectron (EchoForge_Runtime_Shapes_Spec_v1.0)
- ETS Profiles: ETS-EF01-WATCH, ETS-EF01-API, ETS-EF01-JQ

## 2. What Was Attempted
- Finished EF-01 watcher orchestration with folder lifecycle scaffolding, file fingerprinting, and INF-02 enqueue wiring (see `backend/app/domain/ef01_capture/watcher.py`).
- Implemented EF-06 entry gateway models/adapters so watcher + manual capture persist `source_*` metadata and pipeline statuses (see `backend/app/domain/ef06_entrystore/`).
- Built manual text capture helper plus EF-07 `/api/capture` router to cover `text` and `file_ref` modes with validation, INF-02 handoff, and logging (see `backend/app/domain/ef01_capture/manual.py` and `backend/app/api/routers/capture.py`).
- Threaded INF-03 logging calls across watcher, manual capture, and API layers for success/idempotency/error events.
- Documented ETS coverage per M01 scope inside `tests/README.md` tied to `pytest tests/unit`.

## 3. Outcomes
- Tasks T01–T11 remain `done`; T12 now has an initial status log recorded; T13 still pending further review.
- Active code resides in `backend/app/domain/ef01_capture/`, `backend/app/domain/ef06_entrystore/`, `backend/app/api/routers/capture.py`, and supporting tests in `tests/unit/`.
- Current watcher/manual/API flows enqueue transcription/extraction jobs with `{entry_id, source_path}` payloads and update EF-06 pipeline statuses accordingly.

## 4. Issues / Blockers
- EF-06 Postgres schema has not yet added the dedicated fingerprint columns/indexes referenced in M01-T01/T02 notes; needs migration planning plus decision record.
- Watcher + manual capture currently rely on in-memory EF-06 adapter for tests; a real Postgres-backed gateway path with integration tests remains to be wired before packaging the desktop runtime.
- No decision log yet captures assumptions about Config Service profiles for watcher roots or `capture_manual_text` hashing strategy; may require MG governance review.

## 5. Next Steps
- Draft decision entries covering EF-06 fingerprint schema additions and config profile expectations (feeds M01-T13).
- Implement the real EF-06 persistence adapter + migrations so watcher/API paths operate against PostgreSQL locally.
- Extend ETS coverage with integration smoke tests once the Postgres-backed gateway lands, ensuring desktop runtime parity.
